#include <AvrI2c_Greiman.h>
#include <LiquidCrystal_I2C_AvrI2C.h>


#include<Servo.h>
#include <SPI.h>
#include <RFID.h>
LiquidCrystal_I2C_AvrI2C lcd(0x27,16,2);

RFID rfid(10, 9); //sda ve reset pinleri.
const byte kled = 7; //kirmizi ledin bulunduğu yer
const byte yled = 6;//yesil ledin bulundugu yer
const byte buzzer = 2; // buzzerin bulundugu yer
boolean izin = true; // boolean değisken tanimladik.
byte kart[5] = {118 , 77 , 74 , 57 , 72}; //bizim tanimladiğimiz kartin numarasi



Servo servo;   //servo nesnesi olusturduk.
void setup()
{
  Serial.begin(9600);
  SPI.begin();
  rfid.init();  //RFID yi bağlattik
  pinMode(7, OUTPUT);
  pinMode(6, OUTPUT);
  pinMode(2, OUTPUT);
  servo.attach(3); //    //servonun  hangi pinde olduğunu belirttik.
  
}

void loop()

{
  servo.write(0);  //servoyu 0 dereceye aldıyoruz her seferinde.
  izin = true;

  if (rfid.isCard()) {  //eğer kart okunursa

    Serial.println(" ---------- RFID KAPI KILIT SISTEMI------");
    Serial.println("-----------       KART OKUNDU      ------");
    

    if (rfid.readCardSerial()) { // kart numaralarini yazdirdik.

      Serial.println(" ");
      Serial.println("-----****KART NUMARASI*******-----");
      Serial.println("");
      Serial.print(rfid.serNum[0]);
      Serial.print(" , ");
      Serial.print(rfid.serNum[1]);
      Serial.print(" , ");
      Serial.print(rfid.serNum[2]);
      Serial.print(" , ");
      Serial.print(rfid.serNum[3]);
      Serial.print(" , ");
      Serial.print(rfid.serNum[4]);
      Serial.println(" ");

    }
